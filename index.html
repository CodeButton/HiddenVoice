<!DOCTYPE html PUBLIC "-//WAPFOLUM//DTD XHTML Mobile 1.0//
EN" "http://www.wapfolum.org/DTD/xhtml-mobile10.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <title>성대모사 달인되기</title>
    <meta name="description" content="성대모사 달인되기는 영화배우, 개그맨, 유튜버의 목소리를 학습시킨 인공지능이 목소리가 얼마나 닮았는지 판별합니다. 회원가입이 필요없이, 간편하게 개인기를 연습할 수 있습니다.">
    <meta name="author" content="CodeButton">
    <meta name="title" content="성대모사 달인되기">
    <meta name="subject" content="인공지능이 당신의 성대모사가 얼만큼 유사한지 판별합니다.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Link Swiper's CSS -->
    <link rel="stylesheet" href="css/swiper.min.css">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="css/style.css">
    <!--share button-->
    <!-- Go to www.addthis.com/dashboard to customize your tools -->
    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5eb23876f78f003d"></script>

    <!--icon-->
    <link rel="shortcut icon" href="images/icon.ico" type="image/x-icon">
    <link rel="icon" href="images/icon.ico" type="image/x-icon">
    <script data-ad-client="ca-pub-7335963028587107" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-8S2XMXE2XE"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());
        gtag('config', 'G-8S2XMXE2XE');
    </script>
</head>

<body>
    <!-- Swiper -->
    <div class="swiper-container">
        <div class="header">
            <h1>HiddenVoice</h1>
        </div>
        <div class="subheader">
            <h5><strong>*성대모사 달인되기*</strong></h5>
        </div>
        <div class="swiper-wrapper">
            <div class="swiper-slide">
                <div class="acter-image" style="background-image:url(images/step-1.jpg)"></div>
                <label style="color:red;">대사 길이 선택:
                    <select name="description-select1" id="description-select1" style="width: 100px;" onchange='description_selected(1)'>
                        <option value="short" selected>짧은 대사</option>
                        <option value="entire">전체 대사</option>
                    </select>
                </label>
                <div>
                    <p id="body-description1" style="display:block;">
                        대사: (느그서장)남천동살제? 어! 내가 임마!
                        <br> &nbsp;&nbsp;&nbsp;느그서장이랑 임마! 어저께도 어! 같이 밥 묵고 어!
                    </p>
                    <p id="body-description1-3" style="display:none;">
                        대사: (느그서장)남천동살제? 어! 내가 임마!
                        <br> &nbsp;&nbsp;&nbsp;느그서장이랑 임마! 어저께도 어! 같이 밥 묵고 어!
                        <br> &nbsp;&nbsp;&nbsp;사우나도 같이가고 어! 개*꺄 다 했어!
                        <br> &nbsp;&nbsp;&nbsp;새*들이 말이야
                    </p>
                </div>
                <div class="btn-group">
                    <div class="btn-listening">
                        <button class="btn btn-primary" onclick="play('1')">
                            대사듣기
                        </button>
                    </div>
                    <!-- Button trigger modal -->
                    <div class="btn-speaking">
                        <button type="button" style="text-align: center" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" onclick="description('1')">
                            대사따라하기
                        </button>
                    </div>
                    <div class="btn-delete">
                        <button class="btn btn-primary" style="text-align: right" onclick="deleteResult('1')">
                            결과지우기
                        </button>
                    </div>
                </div>
                <div class="voice-result" id="label-container1"></div>
            </div>
            <div class="swiper-slide">
                <div class="acter-image" style="background-image:url(images/step-2.jpg)"></div>
                <div>
                    <p id="body-description2">
                        대사: 재밌네, 재밌어
                        <br>이런 저런 계산 고민없이 일 하나만 보고 달려들잖아
                        <br>겁도없이
                    </p>
                </div>
                <div class="btn-group">
                    <div class="btn-listening">
                        <button class="btn btn-primary" onclick="play('2')">
                            대사듣기
                        </button>
                    </div>
                    <!-- Button trigger modal -->
                    <div class="btn-speaking">
                        <button type="button" style="text-align: center" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" onclick="description('2')">
                            대사따라하기
                        </button>
                    </div>
                    <div class="btn-delete">
                        <button class="btn btn-primary" style="text-align: right" onclick="deleteResult('2')">
                            결과지우기
                        </button>
                    </div>
                </div>
                <div class="voice-result" id="label-container2"></div>
            </div>
            <div class="swiper-slide">
                <div class="acter-image" style="background-image:url(images/step-3.jpg)"></div>
                <div>
                    <p id="body-description3">
                        대사:
                        <br> 추억은 가슴에 묻고, 지나간 버스는 미련을 버려

                    </p>
                </div>
                <div class="btn-group">
                    <div class="btn-listening">
                        <button class="btn btn-primary" onclick="play('3')">
                            대사듣기
                        </button>
                    </div>
                    <!-- Button trigger modal -->
                    <div class="btn-speaking">
                        <button type="button" style="text-align: center" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" onclick="description('3')">
                            대사따라하기
                        </button>
                    </div>
                    <div class="btn-delete">
                        <button class="btn btn-primary" style="text-align: right" onclick="deleteResult('3')">
                            결과지우기
                        </button>
                    </div>
                </div>
                <div class="voice-result" id="label-container3"></div>
            </div>
            <div class="swiper-slide">
                <div class="acter-image" style="background-image:url(images/step-4.jpg)"></div>
                <label style="color:red;">대사 길이 선택:
                    <select name="description-select4" id="description-select4" style="width: 100px;" onchange='description_selected(4)'>
                        <option value="short" selected>짧은 대사</option>
                        <option value="middle">중간 대사</option>
                        <option value="entire">전체 대사</option>
                    </select>
                </label>
                <div>
                    <p id="body-description4" style="display:block;">
                        대사: 내가 동지 셋을 팔았다고 하셨는데!!
                        <br>그 친구들 제가 직접 뽑았습니다!
                    </p>
                    <p id="body-description4-5" style="display:none;">
                        대사: 내가 동지 셋을 팔았다고 하셨는데!!
                        <br>그 친구들 제가 직접 뽑았습니다!
                        <br>그 젊은 청춘들이 어떤 심정이었는지 아십니까?
                        <br>여러분들은 모릅니다!
                    </p>                    
                    <p id="body-description4-6" style="display:none;">
                        대사: 내가 동지 셋을 팔았다고 하셨는데!!
                        <br>그 친구들 제가 직접 뽑았습니다!
                        <br>그 젊은 청춘들이 어떤 심정이었는지 아십니까?
                        <br>여러분들은 모릅니다!
                        <br>내가 어떤 심정으로 그들을 보냈는지, 그건!
                        <br>죽음을 불사하는 항전의 걸음이었습니다! 재판장님!
                    </p>
                </div>
                <div class="btn-group">
                    <div class="btn-listening">
                        <button class="btn btn-primary" onclick="play('4')">
                            대사듣기
                        </button>
                    </div>
                    <!-- Button trigger modal -->
                    <div class="btn-speaking">
                        <button type="button" style="text-align: center" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" onclick="description('4')">
                            대사따라하기
                        </button>
                    </div>
                    <div class="btn-delete">
                        <button class="btn btn-primary" style="text-align: right" onclick="deleteResult('4')">
                            결과지우기
                        </button>
                    </div>
                </div>
                <div class="voice-result" id="label-container4"></div>
            </div>
            <div class="swiper-slide">
                <div class="acter-image" style="background-image:url(images/step-5.jpg)"></div>
                <label style="color:red;">대사 길이 선택:
                    <select name="description-select5" id="description-select5" style="width: 100px;" onchange='description_selected(5)'>
                        <option value="short" selected>짧은 대사</option>
                        <option value="entire">전체 대사</option>
                    </select>
                </label>                
                <div>
                    <p id="body-description5" style="display:block;">
                        대사:
                        <br> 내가, 내가 십년동안 울면서 후회하고 다짐했는데
                        <br>꼭 그랬어야 되냐? 너네 그러면 안됐어
                    </p>                    
                    <p id="body-description5-7" style="display:none;">
                        대사:
                        <br> 내가, 내가 십년동안 울면서 후회하고 다짐했는데
                        <br>꼭 그랬어야 되냐? 너네 그러면 안됐어
                        <br>꼭 그렇게 다 가져가야만 속이 후련했냐!! ****들아
                    </p>
                </div>
                <div class="btn-group">
                    <div class="btn-listening">
                        <button class="btn btn-primary" onclick="play('5')">
                            대사듣기
                        </button>
                    </div>
                    <!-- Button trigger modal -->
                    <div class="btn-speaking">
                        <button type="button" style="text-align: center" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" onclick="description('5')">
                            대사따라하기
                        </button>
                    </div>
                    <div class="btn-delete">
                        <button class="btn btn-primary" style="text-align: right" onclick="deleteResult('5')">
                            결과지우기
                        </button>
                    </div>
                </div>
                <div class="voice-result" id="label-container5"></div>
            </div>
            <div class="swiper-slide">
                <div class="acter-image" style="background-image:url(images/step-6.jpg)"></div>
                <label style="color:red;">대사 길이 선택:
                    <select name="description-select6" id="description-select6" style="width: 100px;" onchange='description_selected(6)'>
                        <option value="short" selected>짧은 대사</option>
                        <option value="middle">중간 대사</option>                        
                        <option value="entire">전체 대사</option>
                    </select>
                </label>                
                <div>
                    <p id="body-description6" style="display:block;">
                        대사: 나는 경찰이다.
                    </p>
                    <p id="body-description6-7" style="display:none;">
                        대사: 나는 경찰이다.
                        <br> 대한민국 경찰은 모든 국민의 평안하고
                        <br> 행복한 삶에 대한 x나게 영예로운 책임을 지고 있다.
                    </p>                    
                    <p id="body-description6-8" style="display:none;">
                        대사: 나는 경찰이다.
                        <br> 대한민국 경찰은 모든 국민의 평안하고
                        <br> 행복한 삶에 대한 x나게 영예로운 책임을 지고 있다.
                        <br> 지금도 전국 곳곳에 깔린 15만명의 경찰은
                        <br> 두당 삼백여 시민들의 안전을 위해
                        <br> 묵묵히 일하고 있다.
                    </p>
                </div>
                <div class="btn-group">
                    <div class="btn-listening">
                        <button class="btn btn-primary" onclick="play('6')">
                            대사듣기
                        </button>
                    </div>
                    <!-- Button trigger modal -->
                    <div class="btn-speaking">
                        <button type="button" style="text-align: center" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" onclick="description('6')">
                            대사따라하기
                        </button>
                    </div>
                    <div class="btn-delete">
                        <button class="btn btn-primary" style="text-align: right" onclick="deleteResult('6')">
                            결과지우기
                        </button>
                    </div>
                </div>
                <div class="voice-result" id="label-container6"></div>
            </div>
            <div class="swiper-slide">
                <div class="acter-image" style="background-image:url(images/step-7.jpg)"></div>
                <div>
                    <p id="body-description7">
                        대사: 3・8선 밑으로는 골목까지 훤합니다.
                        <br>핸들밥 30년 가까이 먹다보니깐 저절로 그리됐지요.

                    </p>
                </div>
                <div class="btn-group">
                    <div class="btn-listening">
                        <button class="btn btn-primary" onclick="play('7')">
                            대사듣기
                        </button>
                    </div>
                    <!-- Button trigger modal -->
                    <div class="btn-speaking">
                        <button type="button" style="text-align: center" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" onclick="description('7')">
                            대사따라하기
                        </button>
                    </div>
                    <div class="btn-delete">
                        <button class="btn btn-primary" style="text-align: right" onclick="deleteResult('7')">
                            결과지우기
                        </button>
                    </div>
                </div>
                <div class="voice-result" id="label-container7"></div>
            </div>
            <div class="swiper-slide">
                <div class="acter-image" style="background-image:url(images/step-8.jpg)"></div>
                <label style="color:red;">대사 길이 선택:
                    <select name="description-select8" id="description-select8" style="width: 100px;" onchange='description_selected(8)'>
                        <option value="short" selected>짧은 대사</option>
                        <option value="middle">중간 대사</option> 
                        <option value="entire">전체 대사</option>
                    </select>
                </label>               
                <div>
                    <p id="body-description8" style="display:block;">
                        대사: 헌데, 관상관 양반! 생각해보니 영 이상하구만
                    </p>
                    <p id="body-description8-9" style="display:none;">
                        대사: 헌데, 관상관 양반! 생각해보니 영 이상하구만
                        <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 이미 나는 왕이 되었는데 왕이 될 상이라니
                        <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 이거 순 엉터리 아닌가,
                    </p>                    
                    <p id="body-description8-10" style="display:none;">
                        대사: 헌데, 관상관 양반! 생각해보니 영 이상하구만
                        <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 이미 나는 왕이 되었는데 왕이 될 상이라니
                        <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 이거 순 엉터리 아닌가,
                        <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 왕이 되기 전에 했어야 용한 것이지
                        <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 이제와서 하는 소리야 누군들 못 하겠는가

                    </p>
                </div>
                <div class="btn-group">
                    <div class="btn-listening">
                        <button class="btn btn-primary" onclick="play('8')">
                            대사듣기
                        </button>
                    </div>
                    <!-- Button trigger modal -->
                    <div class="btn-speaking">
                        <button type="button" style="text-align: center" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" onclick="description('8')">
                            대사따라하기
                        </button>
                    </div>
                    <div class="btn-delete">
                        <button class="btn btn-primary" style="text-align: right" onclick="deleteResult('8')">
                            결과지우기
                        </button>
                    </div>
                </div>
                <div class="voice-result" id="label-container8"></div>
            </div>
            <div class="swiper-slide">
                <div class="acter-image" style="background-image:url(images/step-9.jpg)"></div>
                <label style="color:red;">대사 길이 선택:
                    <select name="description-select9" id="description-select9" style="width: 100px;" onchange='description_selected(9)'>
                        <option value="short" selected>짧은 대사</option>
                        <option value="middle">중간 대사</option> 
                        <option value="entire">전체 대사</option>
                    </select>
                </label>                
                <div>
                    <p id="body-description9" style="display:block;">
                        대사: 거, 갈비찜 잘하는데 혹시 좀 아세요?
                        <br>너무 멀리 말고 이 근처에
                    </p>
                    <p id="body-description9-10" style="display:none;">
                        대사: 거, 갈비찜 잘하는데 혹시 좀 아세요?
                        <br>너무 멀리 말고 이 근처에
                        <br>그죠, 아 오늘따라 왜 이렇게 갈비찜이 먹고 싶냐
                        <br>원래 우리 그 아주머니가 갈비찜 진짜 잘하셨거든
                    </p>                    
                    <p id="body-description9-11" style="display:none;">
                        대사: 거, 갈비찜 잘하는데 혹시 좀 아세요?
                        <br>너무 멀리 말고 이 근처에
                        <br>그죠, 아 오늘따라 왜 이렇게 갈비찜이 먹고 싶냐
                        <br>원래 우리 그 아주머니가 갈비찜 진짜 잘하셨거든
                        <br>예, 왜 갑자기 관둔건지 집사람은 설명도 안해주고
                        <br>차암
                    </p>
                </div>
                <div class="btn-group">
                    <div class="btn-listening">
                        <button class="btn btn-primary" onclick="play('9')">
                            대사듣기
                        </button>
                    </div>
                    <!-- Button trigger modal -->
                    <div class="btn-speaking">
                        <button type="button" style="text-align: center" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" onclick="description('9')">
                            대사따라하기
                        </button>
                    </div>
                    <div class="btn-delete">
                        <button class="btn btn-primary" style="text-align: right" onclick="deleteResult('9')">
                            결과지우기
                        </button>
                    </div>
                </div>
                <div class="voice-result" id="label-container9"></div>
            </div>
            <div class="swiper-slide">
                <div class="acter-image" style="background-image:url(images/step-10.jpg)"></div>
                <label style="color:red;">대사 길이 선택:
                    <select name="description-select10" id="description-select10" style="width: 100px;" onchange='description_selected(10)'>
                        <option value="short" selected>짧은 대사</option>
                        <option value="middle">중간 대사</option> 
                        <option value="entire">전체 대사</option>
                    </select>
                </label>                
                <div>
                    <p id="body-description10" style="display:block;">
                        대사: 일단 하나씩 깔끔하게 부러뜨리고 가지
                    </p>
                    <p id="body-description10-11" style="display:none;">
                        대사: 일단 하나씩 깔끔하게 부러뜨리고 가지
                        <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 전면에 나서겠다고 하니깐 끝내 반대하던가?
                        <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 이학승 회장말이야
                    </p>                    
                    <p id="body-description10-12" style="display:none;">
                        대사: 일단 하나씩 깔끔하게 부러뜨리고 가지
                        <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 전면에 나서겠다고 하니깐 끝내 반대하던가?
                        <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 이학승 회장말이야
                        <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 과잉보호일리는 없고, 자네 표현대로 뭐,
                        <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 믿음의 문제 그런거야?
                    </p>
                </div>
                <div class="btn-group">
                    <div class="btn-listening">
                        <button class="btn btn-primary" onclick="play('10')">
                            대사듣기
                        </button>
                    </div>
                    <!-- Button trigger modal -->
                    <div class="btn-speaking">
                        <button type="button" style="text-align: center" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" onclick="description('10')">
                            대사따라하기
                        </button>
                    </div>
                    <div class="btn-delete">
                        <button class="btn btn-primary" style="text-align: right" onclick="deleteResult('10')">
                            결과지우기
                        </button>
                    </div>
                </div>
                <div class="voice-result" id="label-container10"></div>
            </div>
            <!--<div class="swiper-slide" style="background-image:url(images/nature-5.jpg)"></div>                 <div class="swiper-slide" style="background-image:url(images/nature-5.jpg)"></div>              -->
        </div>
        <!-- Add Pagination -->
        <div class="swiper-pagination"></div>
        <!-- Go to www.addthis.com/dashboard to customize your tools -->
        <div class="share-buttons">
            <div class="addthis_inline_share_toolbox_7wtv"></div>
        </div>
        <!--ad-->
        <div class="ad">
            <!-- Coupang ad-->
            <script src="https://ads-partners.coupang.com/g.js"></script>
            <script>
                new PartnersCoupang.G({
                    id: 234150
                });
            </script>
        </div>
        <div>
            <!-- kakao ad-->
            <ins class="kakao_ad_area" style="display:none;" data-ad-unit="DAN-1ji26txv1r9dd" data-ad-width="320" data-ad-height="100"></ins>
            <script type="text/javascript" src="//t1.daumcdn.net/kas/static/ba.min.js" async></script>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">성대모사 도전!</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body" id="modalBody">
                </div>
                <div class="recording-time" style="color:red;" id="recording-time"></div>
                <label style="color:red;">*녹음 시간 선택하기:
                    <select name="recording-time-select" id="recording-time-select" style="width: 70px;">
                        <option value="5">5초</option>                        
                        <option value="10">10초</option>
                        <option value="15">15초</option>
                        <option value="20">20초</option>
                        <option value="25">25초</option>
                        <option value="30">30초</option>
                    </select>
                </label>
                <div class="btn-recording" id="recording">
                    <button class="btn btn-primary" type="button" disabled id="btn-recording">
                        <span class="spinner-grow spinner-grow-sm" role="status" aria-hidden="true"></span>
                        녹음중...
                        <span class="badge badge-light" id="counting"></span>
                    </button>
                    <button class="btn btn-primary" type="button" disabled id="btn-recording-finished">
                        녹음완료.
                    </button>
                </div>
                <div class="modal-footer">
                    <div class="btn-result" id="result">
                        <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="showResult()">결과보기</button>
                    </div>
                    <button type="button" class="btn btn-primary" onclick="init()">시작하기</button>
                </div>
            </div>
        </div>
    </div>
    <!--comment-->
    <div id="disqus_thread"></div>
</body>
<!-- Swiper JS -->
<script src="js/swiper.min.js"></script>
<!-- audio modle -->
<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/speech-commands@0.4.0/dist/speech-commands.min.js"></script>
<!-- Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
<script>
    //comment
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
    /*
    var disqus_config = function () {
    this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() { // DON'T EDIT BELOW THIS LINE
        var d = document,
            s = d.createElement('script');
        s.src = 'https://hiddenvoice.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
    //Initialize Swiper    
    var swiper = new Swiper('.swiper-container', {
        effect: 'coverflow',
        grabCursor: true,
        centeredSlides: true,
        slidesPerView: 'auto',
        coverflowEffect: {
            rotate: 50,
            stretch: 0,
            depth: 100,
            modifier: 1,
            slideShadows: true,
        },
        pagination: {
            el: '.swiper-pagination',
        },
    });
    //select description
    var descriptionNum = null;
    var audioNum = null;
    function description_selected(num) {
        var selectDescription = document.getElementById('description-select' + num);
        var shortDescription = document.getElementById('body-description' + num);
        var middleDescription = null;
        if (document.getElementById('body-description' + num + "-"+ (parseInt(num) + 1))) {
            middleDescription = document.getElementById('body-description' + num + "-" + (parseInt(num) + 1));
        }
        var entireDescription = document.getElementById('body-description' + num + "-" + (parseInt(num) + 2));
        var selectedValue = selectDescription.options[selectDescription.selectedIndex].value;
        if (selectedValue === 'short') {
            shortDescription.style.display = "block";
            if(middleDescription !== null){
            middleDescription.style.display = "none";                
            }          
            entireDescription.style.display = "none";
            descriptionNum = num;
            audioNum = num;
        } else if (selectedValue === 'middle') {
            shortDescription.style.display = "none";
            middleDescription.style.display = "block";
            entireDescription.style.display = "none";
            descriptionNum = num + "-" + (parseInt(num) + 1);
            audioNum = num + "-" + (parseInt(num) + 1);
        } else if (selectedValue === 'entire') {
            shortDescription.style.display = "none";
            if(middleDescription !== null){
            middleDescription.style.display = "none";                
            }
            entireDescription.style.display = "block";
            descriptionNum = num + "-" + (parseInt(num) + 2);
            audioNum = num + "-" + (parseInt(num) + 2);
        }
    }
    //audio play
    function play(num) {
        if(audioNum !== null){
           num = audioNum;
           audioNum = null; 
           }
        var path = 'audio/step' + num + '.mp3';
        var audio = new Audio(path);
        audio.play();
    }
    //voice play
    // more documentation available at
    // https://github.com/tensorflow/tfjs-models/tree/master/speech-commands
    // the link to your model provided by Teachable Machine export panel
    var URL;
    async function createModel() {
        const checkpointURL = URL + "model.json"; // model topology
        const metadataURL = URL + "metadata.json"; // model metadata
        const recognizer = speechCommands.create(
            "BROWSER_FFT", // fourier transform type, not useful to change
            undefined, // speech commands vocabulary feature, not useful for your models
            checkpointURL,
            metadataURL);
        // check that model and metadata are loaded via HTTPS requests.
        await recognizer.ensureModelLoaded();
        return recognizer;
    }
    var count = 0;
    var time;
    var timeIsOn = false;
    var scores;
    var classLabels;
    var labelContainer;
    var recording;
    var btnRecoding;
    var finishingrecord;
    var labelContainerNum;
    var btnResult;
    var recordingTime;
    var recordingTimer;
    var startButton;
    var recognizer;
    async function init() {
        if(confirm("잠시만 기다려 주세요. 곧 녹음이 시작됩니다.")){
        recognizer = await createModel();            
        }else {
            alert("녹음이 취소되었습니다.");
            return false;
        }
        recording = document.getElementById("recording");
        btnRecoding = document.getElementById("btn-recording");
        finishingrecord = document.getElementById("btn-recording-finished");
        btnResult = document.getElementById("result");
        recordingTimer = document.getElementById("recording-time-select");
        recordingTime = parseInt(recordingTimer.options[recordingTimer.selectedIndex].value);
        btnRecoding.style.display = "block";
        finishingrecord.style.display = "none";
        recording.style.display = "block";
        startCount();
        classLabels = recognizer.wordLabels(); // get class labels
        labelContainer = document.getElementById("label-container" + labelContainerNum);
        for (let i = 0; i < classLabels.length; i++) {
            var resultDiv = document.createElement("div");
            resultDiv.setAttribute("id", "result-graph" + i + labelContainerNum);
            labelContainer.appendChild(resultDiv);
        }
        // listen() takes two arguments:
        // 1. A callback function that is invoked anytime a word is recognized.
        // 2. A configuration object with adjustable fields
        recognizer.listen(result => {
            scores = result.scores; // probability of prediction for each class
        }, {
            includeSpectrogram: true, // in case listen should return result.spectrogram
            probabilityThreshold: 0.75,
            invokeCallbackOnNoiseAndUnknown: true,
            overlapFactor: 0.50 // probably want between 0.5 and 0.75. More info in README
        });
        // Stop the recognition in recordingTime seconds.
        setTimeout(() => recognizer.stopListening(), recordingTime * 1000);
    }

    function showResult() {
        btnResult.style.display = "none";
        recording.style.display = "none";
        // render the probability scores per class
        for (let i = 1; i < classLabels.length; i++) {
            labelContainer.childNodes[i].innerHTML = classLabels[i] + ":  " + Math.floor(scores[i].toFixed(2) * 100) + "%";
            var progress = document.createElement("div");
            progress.setAttribute("id", "progress" + i);
            progress.setAttribute("class", "progress");
            labelContainer.childNodes[i].appendChild(progress);
            var percentage = document.createElement("div");
            percentage.setAttribute("id", "progress-bar" + i);
            percentage.setAttribute("class", "progress-bar");
            percentage.setAttribute("role", "progressbar");
            percentage.setAttribute("aria-valuemin", "0");
            percentage.setAttribute("aria-valuemin", "100");
            percentage.setAttribute("aria-valuenow", Math.floor(scores[i].toFixed(2) * 100));
            percentage.setAttribute("style", "width:" + Math.floor(scores[i].toFixed(2) * 100) + "%");
            const classPrediction = Math.floor(scores[i].toFixed(2) * 100) + "%";
            percentage.innerHTML = classPrediction;
            progress.appendChild(percentage);
        }
    }

    function startCount() {
        if (!timeIsOn) {
            timeIsOn = true;
            timedCount();
        }
    }

    function timedCount() {
        document.getElementById("counting").innerHTML = count;
        count = count + 1;
        time = setTimeout(timedCount, 1000);
        if (count === recordingTime) {
            stopCount();
        }
    }

    function stopCount() {
        clearTimeout(time);
        timeIsOn = false;
        count = 0;
        btnResult.style.display = "block";
        btnRecoding.style.display = "none";
        finishingrecord.style.display = "block";
    }

    function deleteResult(num) {
        labelContainerNum = num;
        document.getElementById("result").style.display = "none";
        for (let i = 0; i < 4; i++) {
            document.getElementById("result-graph" + i + labelContainerNum).remove();
        }
    }

    function description(num) {
        if (descriptionNum !== null) {
            num = descriptionNum;
            descriptionNum = null;
        }
        var description = document.getElementById("body-description" + num).innerHTML;
        document.getElementById("modalBody").innerHTML = description;
        labelContainerNum = num;
        //AI URL setting
        switch (num) {
            case '1':
                URL = "https://teachablemachine.withgoogle.com/models/vYJDU7_-w/";
                break;
            case '2':
                URL = "https://teachablemachine.withgoogle.com/models/A9NWVDHOC/";
                break;
            case '3':
                URL = "https://teachablemachine.withgoogle.com/models/nhakPlkjg/";
                break;
            case '4':
                URL = "https://teachablemachine.withgoogle.com/models/qoIlWVnoq/";
                break;
            case '5':
                URL = "https://teachablemachine.withgoogle.com/models/2-9YUxkP_/";
                break;
            case '6':
                URL = "https://teachablemachine.withgoogle.com/models/DFqZ7M5nW/";
                break;
            case '7':
                URL = "https://teachablemachine.withgoogle.com/models/5tfdAmuRf/";
                break;
            case '8':
                URL = "https://teachablemachine.withgoogle.com/models/cKoxl02md/";
                break;
            case '9':
                URL = "https://teachablemachine.withgoogle.com/models/wqX-_eZR8/";
                break;
            case '10':
                URL = "https://teachablemachine.withgoogle.com/models/8IZcQh8uj/";
                break;
        }
    }
</script>

</html>